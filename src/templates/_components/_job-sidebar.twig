{% import '_includes/forms' as forms %}

<fieldset class="fieldset">

    <legend class="h6">{{ 'Job Info'|t('cockpit') }}</legend>
    <div class="meta">
        <div class="field">
            <legend class="heading">
                {{ 'Department'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {% include '_includes/forms/elementSelect.twig' with {
                    allowAdd: false,
                    allowRemove: false,
                    elements: element.department ?? [] ? [element.department] : [],
                    elementType: 'craftpulse\\cockpit\\elements\\Department',
                    limit: 1,
                    single: true,
                } %}
            </div>
        </div>

        <div class="field">
            <legend class="heading">
                {{ 'Contact'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {% include '_includes/forms/elementSelect.twig' with {
                    allowAdd: false,
                    allowRemove: false,
                    elements: element.contact ?? [] ? [element.contact] : [],
                    elementType: 'craftpulse\\cockpit\\elements\\Contact',
                    limit: 1,
                    single: true,
                } %}
            </div>
        </div>
    </div>

    <legend class="h6">{{ 'Company Info'|t('cockpit') }}</legend>
    <div class="meta">
        <div class="field">
            <legend class="heading">
                {{ 'Company Name'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'companyName',
                    name: 'companyName',
                    value: element.companyName,
                }) }}
            </div>
        </div>

        <div class="field">
            <legend class="heading">
                {{ 'Address'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {%- if (element.address[0] ?? null) -%}
                    {{ element.address[0].addressLine1 }} - {{ element.address[0].addressLine2 }}<br/>
                    {{ element.address[0].postalCode }} {{ element.address[0].locality }}
                {%- else -%}
                    -
                {%- endif -%}
            </div>
        </div>
    </div>

    <legend class="h6">{{ 'Cockpit'|t('cockpit') }}</legend>
    <div class="meta">
        <div class="field">
            <legend class="heading">
                {{ 'ID'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'cockpitId',
                    name: 'cockpitId',
                    value: element.cockpitId,
                }) }}
            </div>
        </div>
        <div class="field">
            <legend class="heading">
                {{ 'Company ID'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'cockpitCompanyId',
                    name: 'cockpitCompanyId',
                    value: element.cockpitCompanyId,
                }) }}
            </div>
        </div>
        <div class="field">
            <legend class="heading">
                {{ 'Job Request ID'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'cockpitJobRequestId',
                    name: 'cockpitJobRequestId',
                    value: element.cockpitJobRequestId,
                }) }}
            </div>
        </div>
        <div class="field">
            <legend class="heading">
                {{ 'Department ID'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'cockpitDepartmentId',
                    name: 'cockpitDepartmentId',
                    value: element.cockpitDepartmentId,
                }) }}
            </div>
        </div>
        <div class="field">
            <legend class="heading">
                {{ 'Contact ID'|t('cockpit') }}
            </legend>

            <div class="input ltr">
                {{ forms.text({
                    id: 'cockpitContactId',
                    name: 'cockpitContactId',
                    value: element.cockpitContactId,
                }) }}
            </div>
        </div>
    </div>
</fieldset>

<dl class="meta read-only">
    <div class="data">
        <dt class="heading">Application count</dt>
        <dd class="value">{{ element.applicationCount }}</dd>
    </div>
    <div class="data">
        <dt class="heading">Job open positions</dt>
        <dd class="value">{{ element.openPositions }}</dd>
    </div>
</dl>

<hr/>
